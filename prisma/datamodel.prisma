type User {
  id: ID! @id
  email: String! @unique
  username: String! @unique
  password: String!
  userScripts: [Script!]! @relation(name: "UserScripts", onDelete: CASCADE)
  favoriteScripts: [Script!]! @relation(name: "FavoriteScripts", onDelete: SET_NULL)
}

enum Visibility {
  PUBLIC
  PRIVATE
}

type Script {
  id: ID! @id
  name: String!
  description: String
  content: String!
  visibility: Visibility! @default(value: PUBLIC)
  tags: [String!]! @scalarList(strategy: RELATION)
  ratings: [Rating!]!
  author: User! @relation(name: "UserScripts")
  favoritedBy: [User!]! @relation(name: "FavoriteScripts")
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt
}

type Rating {
  id: ID! @id
  value: Int!
  script: Script!
  user: User!
}
